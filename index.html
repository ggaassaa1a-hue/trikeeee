<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>جدول الامتحانات الرسمي</title>

<style>
body {
    font-family: "Simplified Arabic", Arial;
    margin: 0;
    padding: 0;
    background: #f7f7f7;
    position: relative;
}

/* الخلفية المتدرجة المتحركة */
.background-animation {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background: linear-gradient(270deg, #ff9a9e, #fad0c4, #a1c4fd, #c2e9fb);
    background-size: 800% 800%;
    animation: gradientAnimation 20s ease infinite;
}

@keyframes gradientAnimation {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* العلامة المائية */
.watermark {
    position: fixed;
    top: 20px;
    right: 20px;
    font-size: 24px;
    color: rgba(0,0,0,0.1);
    z-index: 1000;
    pointer-events: none;
}

/* إطار الورقة */
.page {
    width: 850px;
    margin: 20px auto;
    padding: 25px;
    background: white;
    border: 2px solid black;
    position: relative;
    overflow: hidden;
}

/* الهيدر */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
}

.header div {
    font-size: 18px;
    line-height: 26px;
}

/* عنوان الصفحة */
h2 {
    text-align: center;
    margin-top: 10px;
    margin-bottom: 30px;
}

/* جدول الامتحانات */
table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
}
th, td {
    border: 1px solid #000;
    padding: 10px;
    text-align: center;
}
tbody tr:nth-child(odd) {
    background: #f2f2f2;
}
tbody tr:nth-child(even) {
    background: #e8e8e8;
}
td[contenteditable="true"] {
    background: #fffbe6;
}

/* تحديد الصف */
tr.selected {
    outline: 3px solid #007bff;
}

/* الأزرار */
button {
    padding: 10px 18px;
    cursor: pointer;
    background: #3498db;
    color: white;
    border: none;
    margin: 5px 0;
}

/* الملاحظات */
.notes {
    border: 1px solid #000;
    padding: 12px;
    background: #fafafa;
    margin-top: 20px;
    line-height: 28px;
}

/* التواقيع */
.signatures {
    margin-top: 40px;
    display: flex;
    justify-content: space-between;
    text-align: center;
}
.sign-box {
    width: 30%;
    line-height: 25px;
}

/* الطباعة — النسخة المعدلة بالكامل */
@media print {

    @page {
        size: A4;
        margin: 0 !important;
    }

    body {
        background: white !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    .background-animation,
    .watermark,
    button,
    input {
        display: none !important;
    }

    .page {
        width: 100% !important;
        margin: 0 !important;
        border: none !important;
        padding: 20px !important;
        box-sizing: border-box;
    }

    td {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    tr.selected {
        outline: none !important;
    }
}
</style>
</head>

<body>

<!-- الخلفية المتدرجة -->
<div class="background-animation"></div>

<!-- العلامة المائية -->
<div class="watermark">© TRIKE --> TEAM EAGLSE</div>

<div class="page">

    <!-- الهيدر -->
    <div class="header">
        <div contenteditable="true">
            جمهورية العراق<br>
            وزارة التعليم العالي والبحث العلمي
        </div>
        <div contenteditable="true" style="text-align:center;">
            جامعة الحلة<br>
            كلية التقنيات الهندسية
        </div>
        <div contenteditable="true" style="text-align:left;">
            القسم العلمي<br>
            الشعبة الدراسية
        </div>
    </div>

    <!-- العنوان -->
    <h2 contenteditable="true">جدول الامتحانات النهائية — الدور الأول</h2>

    <!-- الجدول -->
    <table id="t">
        <thead>
            <tr>
                <th>اليوم</th>
                <th>التاريخ</th>
                <th>المادة</th>
                <th>التدريسي</th>
                <th>الوقت</th>
                <th>القاعة</th>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td contenteditable="true"></td>
                <td contenteditable="true"></td>
                <td contenteditable="true"></td>
                <td contenteditable="true"></td>
                <td contenteditable="true"></td>
                <td contenteditable="true"></td>
            </tr>
        </tbody>
    </table>

    <!-- الأزرار -->
    <button onclick="addRow()">إضافة صف جديد</button>
    <input type="color" id="colorPicker" value="#ffff99">
    <button onclick="colorRow()">تلوين الصف</button>
    <button onclick="window.print()">طباعة</button>

    <!-- أزرار الأعمدة -->
    <button onclick="addColumn()">إضافة عمود</button>
    <button onclick="deleteColumn()">حذف العمود الأخير</button>
    <button onclick="renameColumns()">تعديل أسماء الأعمدة</button>

    <!-- الملاحظات -->
    <div class="notes" contenteditable="true">
        <b>ملاحظات هامة:</b><br>
        اكتب الملاحظات هنا…
    </div>

    <!-- التواقيع -->
    <div class="signatures">
        <div class="sign-box" contenteditable="true">
            رئيس القسم<br><br><br>
            ----------------------
        </div>

        <div class="sign-box" contenteditable="true">
            مقرر اللجنة الامتحانية<br><br><br>
            ----------------------
        </div>

        <div class="sign-box" contenteditable="true">
            عميد الكلية<br><br><br>
            ----------------------
        </div>
    </div>

</div>

<script>
// إضافة صف جديد
function addRow() {
    const tbody = document.querySelector("#t tbody");
    const row = document.createElement("tr");
    const colCount = document.querySelectorAll("#t thead th").length;
    for (let i = 0; i < colCount; i++) {
        const cell = document.createElement("td");
        cell.setAttribute("contenteditable", "true");
        row.appendChild(cell);
    }
    tbody.appendChild(row);
}

// تحديد الصف
document.addEventListener("click", function(e) {
    if (e.target.tagName === "TD") {
        document.querySelectorAll("tr").forEach(r => r.classList.remove("selected"));
        e.target.parentElement.classList.add("selected");
    }
});

// تلوين الصف
function colorRow() {
    const row = document.querySelector("tr.selected");
    if (!row) {
        alert("اختر صف أولاً");
        return;
    }
    const color = document.getElementById("colorPicker").value;
    row.querySelectorAll("td").forEach(cell => {
        cell.style.backgroundColor = color;
    });
}

// إضافة عمود جديد
function addColumn() {
    const table = document.getElementById("t");
    const th = document.createElement("th");
    th.setAttribute("contenteditable", "true");
    th.innerText = "عمود جديد";
    table.querySelector("thead tr").appendChild(th);

    table.querySelectorAll("tbody tr").forEach(row => {
        const td = document.createElement("td");
        td.setAttribute("contenteditable", "true");
        row.appendChild(td);
    });
}

// حذف العمود الأخير
function deleteColumn() {
    const table = document.getElementById("t");
    const colCount = table.querySelector("thead tr").children.length;
    if (colCount <= 1) {
        alert("لا يمكن حذف كل الأعمدة!");
        return;
    }
    table.querySelector("thead tr").lastElementChild.remove();
    table.querySelectorAll("tbody tr").forEach(row => row.lastElementChild.remove());
}

// تعديل أسماء الأعمدة
function renameColumns() {
    const ths = document.querySelectorAll("#t thead th");
    ths.forEach((th, index) => {
        const newName = prompt(`أدخل اسم العمود ${index + 1}:`, th.innerText);
        if (newName !== null) th.innerText = newName;
    });
}
</script>

</body>
</html>
